<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
     <!--
         Created by using the PRINT operation of SURVO MM 
          For more information, see http://www.survo.fi/  
         -->
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="SURVO MM">
<TITLE>SURVO&nbsp;MM&nbsp;Help&nbsp;System&nbsp;(web&nbsp;edition)</TITLE>
<LINK REL="stylesheet" HREF="q.css" TYPE="text/css">
<META NAME="Description" CONTENT="SURVO&nbsp;MM&nbsp;Help&nbsp;System&nbsp;(web&nbsp;edition)">
<META NAME="Classification" CONTENT="help system">
<META NAME="Keywords" CONTENT="Survo, help, hypertext">
</HEAD>
<BODY>
<H1><IMG SRC="../survologo1.gif" WIDTH="200" HEIGHT="82" ALT="SURVO&nbsp;MM">&nbsp;<A HREF="mainmenu.html">Help&nbsp;System&nbsp;(web&nbsp;edition)</A></H1>
<P><PRE CLASS="HelpText">FILE SAVE &lt;text file&gt; TO &lt;Survo data file&gt; 
followed by a list of the form:
FIELDS:
1  &lt;name of a field in Survo data file or '-'&gt; &lt;length or delimiters&gt; 
2  &lt;name of a field in Survo data file or '-'&gt; &lt;length or delimiters&gt; 
- - -
K  &lt;name of a field in Survo data file or '-'&gt; &lt;length or delimiters&gt; 
END

where K is the number of fields in one logical record in the text file,
copies a part of a text file to a Survo data file.
If the Survo data file does not exist, a new file will be created.
The fields of the text file are mapped to various Survo data fields
according to the list. Fields which are not copied from the text file
are indicated by a '-' in the list.
If &lt;length or delimiters&gt; is not given, the field is assumed to be ter-
minated by one or several spaces in the text file. However,
the last field in each record must be terminated by a line feed.
Other fields ending with line feed should be indicated by LF in the
list. For example, 10 test3 LF

The &lt;length or delimiters&gt; parameter can also be an integer giving the
fixed length of the corresponding field in the text file or it can
be a sequence of delimiter characters.
For example, 11 test6 5
             12 test7 :/
defines test6 as a field of 5 characters and test7 as a field of
next characters ending by : or / or space. A delimiter can also
be given in the form [decimal_value]. For example,
             13 test8 [50][51]
defines test8 to be terminated by one or several '1's or '2's.
Please, note that
             13 test8 12
would define test8 to be a field of 12 characters.

The first line to be copied from the text file is given by the
specification FIRST=&lt;# of first line&gt;. Default is FIRST=1.
Similarly, the last line to be copied is given by LAST=&lt;# of last line&gt;.
Default is the last line in the text file.

To control the mapping from the text file to the Survo data file
with respect to observations, a MATCH specification can be given.
If MATCH is omitted, all the observations will be copied to the Survo
data file as new observations.
MATCH=&lt;name of a field in the data file&gt; 
specifies the field in the Survo data file whose contents should be
equal to the corresponding field of the text file. The MATCH field
has to be given as one of the items in the FIELDS list.
Typically, the name of the observation serves as a match field.
The order of the observations in the text file and in the data file must
be same.
Use either a string field or an integer-valued numeric field as a MATCH
field. Non-integer fields are not safe as MATCH fields because their
values can be rounded.
By giving MATCH=#, the order of the observation will be used as
a match variable.

Example:
<B>FILE SAVE A:TEXT1,DATA2   </B>_  copies lines from 4 to 33 (i.e. 30 obser-
<B>FIRST=4 LAST=33 MATCH=Name</B>_  vations) from the text file TEXT1 on disk A:
<B>FIELDS:                   </B>_  to the Survo data file DATA2 on the
<B>1  Name                   </B>_  current data disk. The match field is
<B>2  Test1                  </B>_  'Name' and the fields #2 and #4 are copied
<B>3  -                      </B>_  to Survo data fields 'Test1' and 'Test0',
<B>4  Test0                  </B>_  respectively.
<B>END                       </B>_


In all forms of FILE SAVE, code conversions are performed by
a specification FILTER=&lt;256_byte_conversion_file&gt;.
For making of code conversion files, see <A HREF="q0c_01.html">CODES</A>?
Unwanted characters (after conversion) are skipped by
SKIP=&lt;list_of_characters&gt;. Example: SKIP=,"

Fields in the text file consisting of spaces and/or '-'s are treated
as missing values. This convention can be overridden by a specification
MISSING=&lt;string&gt; giving the code word &lt;string&gt; for a missing value.
Example: MISSING=.. implies all fields with at least two consecutive '.'s
         to be missing values.

The default mode (MODE=1), when interpreting the text file, considers
spaces as delimiters also when other symbols are given as delimiters.
Thus fields consisting of several words are not treated correctly.
In such cases a apecification MODE=2 should be given. Then also
empty fields terminating with LF will be accepted.

In many cases it is useful to preprocess the text file by TXTCONV or TXTRIM.
For example, harmful characters may be eliminated.

Text files containing plain text or code characters (words) can be
saved to Survo as values of one selected (string) variable by
entering a specification either of form
    FORMAT=WORD,&lt;variable&gt;,"delimiters"
or  FORMAT=CHAR,&lt;variable&gt;,&lt;length&gt;.
If FORMAT is given, the FIELDS list is not used at all.
In the former case the the text in the text file is splitted into
'words' limited by line feeds and by any of the characters given
as "delimiters". Default for "delimiters" is " ,.:;?!-".
The 'words' are appended to the end of the Survo data file as
values of &lt;variable&gt;.
In the latter case code sequences of &lt;length&gt; characters are the
'words' to be saved as values of &lt;variable&gt;. Default is &lt;length&gt;=1.
Spaces (decimal code 32) are skipped.
By using the FILTER specification with an appropriate conversion file
selected codes may be merged or skipped (by mapping them to spaces).

  <A HREF="qf6_10.html">I = Dealing with incomplete lines</A> 
  <A HREF="qf6_11.html">L = Dealing with long names of variables</A> 
  <A HREF="qf6_01.html">S = More information on FILE SAVE</A> 
  <A HREF="qf1_01.html">D = More information on data management</A> 
</PRE></P><HR>
<DIV CLASS="Details"><SMALL>More information on Survo from <A HREF="http://www.survo.fi/">www.survo.fi</A></SMALL><BR><SMALL>Copyright &copy; Survo Systems 2001-2012.<BR><A HREF="mailto:webmaster'at'survo.fi">webmaster'at'survo.fi</A></SMALL></DIV>
</BODY>
</HTML>
