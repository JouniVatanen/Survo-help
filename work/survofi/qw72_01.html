<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<HTML>
     <!--
         Created by using the PRINT operation of SURVO MM 
          For more information, see http://www.survo.fi/  
         -->
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="SURVO MM">
<TITLE>SURVO&nbsp;MM&nbsp;Help&nbsp;System&nbsp;(web&nbsp;edition)</TITLE>
<LINK REL="stylesheet" HREF="q.css" TYPE="text/css">
<META NAME="Description" CONTENT="SURVO&nbsp;MM&nbsp;Help&nbsp;System&nbsp;(web&nbsp;edition)">
<META NAME="Classification" CONTENT="help system">
<META NAME="Keywords" CONTENT="Survo, help, hypertext">
</HEAD>
<BODY>
<H1><IMG SRC="../survologo1.gif" WIDTH="200" HEIGHT="82" ALT="SURVO&nbsp;MM">&nbsp;<A HREF="mainmenu.html">Help&nbsp;System&nbsp;(web&nbsp;edition)</A></H1>
<P><PRE CLASS="HelpText"><B>The MFCOPY operation</B>   written by Markku Korhonen (HUCC)

With the MFCOPY operation several related Survo data files can be
combined into one new Survo data file. The relation between Survo
data files is indicated by key variables exactly in the same way as in
the MFEDIT operation.

The form of the MFCOPY operation is

MFCOPY &lt;output Survo data file&gt; 
FILE1=&lt;Survo data file&gt;(&lt;list of keys&gt;)
FILE2=&lt;Survo data file&gt;(&lt;list of keys&gt;)
...
&lt;subset definitions&gt; 
&lt;options&gt; 

<STRONG>Survo data files</STRONG> 

Input Survo data files are given in the order defined by their
hierarchy (if one exists) exactly as in the MFEDIT operation.
After the name of the data file the keys defining the relation
between files are given in parentheses in such an order that the
primary keys are given first. Up to 7 input Survo data files can
be defined by the FILEn specifications. They can have up to 10
different key variables.

All active variables are copied into the new Survo data file. However,
the key variables are copied only once. The names of active non-key
variables must be unique. The output Survo data file is created
automatically.
Example:

MFCOPY Combined
FILE1=Society(Scode)
FILE2=Persons(Personid)
FILE3=Members(Scode,Personid)

If an observation in the <EM>Members</EM> file has no counterpart, for
instance, in the Society file, then the corresponding fields in
the output file are filled with missing values. For each input
file an indicator variable can be created in the output file. The
names for the indicator variables are given by the INDn
specifications, e.g. cations, e.g.

IND1=Isociety  IND2=Ipersons
Subset definitions

A subset of observations can be selected with the following kind of
specifications depending on the type of the variable. For numeric
variables one can define limits for variable values:

&lt;variable name&gt;=&lt;lower limit&gt;,&lt;upper limit&gt; 

The default value for the upper limit is the lower limit. If one wants to
exclude observations between a certain range, then a prefix operator ^
("not") can be used.
For string variables the restrictions have the form:

&lt;variable name&gt;=&lt;string 1&gt;,&lt;string 2&gt;, ....

The strings are given without apostrophes. If a string ends with an aster
isk (*), only the given characters are taken in account when strings
are compared. If several strings are listed in a specification, the OR
operation is applied (string 1 OR string 2 OR ...). If a prefix operator
is placed in front of the first string, then the list consists of unwante
strings.

Note that missing values result always to a false condition. There can
be up to 20 specifications. An observation is written to the output file
only if it meets all conditions given by the different specifications.

<STRONG>Example 3.2:</STRONG> Consider the previous example. The user wants that the
output Survo data file contains only those persons, who are members
of the society 051, whose member type is neither R nor R+, who were
born in the years 1962-1992 and who have in their address a postal
code which starts with a zero (variable <EM>Zip</EM> is a string variable).

MFCOPY Combined
FILE1=Society(Scode)
FILE2=Persons(Personid)
FILE3=Members(Scode,Personid)
Scode=051   Brthyear=1962,1992
Memtype=^R,R+  Zip=0*

<STRONG>The order of observations</STRONG> 

The observations are written in the output file either in the order de-
fined by the keys of the file  which is lowermost in the hierarchy
(<EM>Members</EM> in the previous example), or in the order of appearance in
that file. The latter is chosen if ORDER=ORIG is specified. If there
is not enough memory for sort indices for the files, then the original
order is used.

 <A HREF="q21_01.html">D = More on data analysis</A> 
 <A HREF="q01_02.html">E = More information on SURVO 84 EDITOR</A> 

</PRE></P><HR>
<DIV CLASS="Details"><SMALL>More information on Survo from <A HREF="http://www.survo.fi/">www.survo.fi</A></SMALL><BR><SMALL>Copyright &copy; Survo Systems 2001-2012.<BR><A HREF="mailto:webmaster'at'survo.fi">webmaster'at'survo.fi</A></SMALL></DIV>
</BODY>
</HTML>
