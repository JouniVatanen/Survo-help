<!DOCTYPE html>
<html>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="SURVO MM">
<TITLE>SURVO&nbsp;Help&nbsp;System</TITLE>
<LINK REL="stylesheet" HREF="q.css" TYPE="text/css">
<META NAME="Description" CONTENT="SURVO&nbsp;Help&nbsp;System">
<META NAME="Classification" CONTENT="help system">
<META NAME="Keywords" CONTENT="Survo, help, hypertext">
</HEAD>
<BODY>
<UL CLASS="menu"><LI CLASS="active"><A HREF="#">LOGO</LI><LI><A HREF="#">ABOUT</A> 
</LI><LI><A HREF="#">COMMANDS</A> 
<UL><LI><A HREF="#">Basic commands</A> 
</LI><LI><A HREF="#">Commands by keyword</A> 
</LI><LI><A HREF="#">All commands</A> 
</UL></LI><LI><A HREF="#">MANUALS</A> 
</LI><FORM><DIV CLASS="search"><INPUT NAME="search_text" TYPE="text" onclick="this.value='';" onfocus="this.select()"
onblur="this.value=!this.value?'Search':this.value;" value="Search"
><INPUT NAME="search_button" TYPE="image" class="search-button" src="search-icon.png"
></DIV></FORM></UL><DIV CLASS="content">
<H2>File save with fields</H2> 
<H3>Description</H3> 
<CODE>FILE SAVE WITH FIELDS</CODE> saves contents of a text file to Survo data file.
FILE SAVE WITH FIELD works like FILE SAVE.

<H3>Usage</H3> 
<PRE><CODE>FILE SAVE 'text file' TO 'Survo data file'
FIELDS:
1   name of a field in Survo data file or '-'   length or delimiters 
2   name of a field in Survo data file or '-'   length or delimiters 
- - -
K   name of a field in Survo data file or '-'   length or delimiters 
END
</CODE></PRE>

<H3>Specifications</H3> 
<TABLE><TR>
<TD ALIGN="left"><CODE>'text file'</CODE> 
<TD ALIGN="left">The whole name of the text file that you want to save. Use without
'-characters and with the correct file extension
<TR>
<TD ALIGN="left"><CODE>'Survo data file'</CODE> 
<TD ALIGN="left">Name of the file where the data will be saved. Use without '-characters.
<TR>
<TD ALIGN="left"><CODE>K</CODE> 
<TD ALIGN="left"><CODE>K</CODE> is the number of fields in one text file.
<TR>
<TD ALIGN="left"><CODE>NAMES</CODE> 
<TD ALIGN="left"><CODE>NAMES=names_line</CODE> gives the line for the variable names in Survo data
file. Default (if no NAMES given): variable names X1, X2, ... are used.
<CODE>NAMES=DEFAULT</CODE> maps the columns of a text file to the active variables of
Survo data file.
<TR>
<TD ALIGN="left"><CODE>NEW</CODE> 
<TD ALIGN="left"><CODE>FILE SAVE 'text file' TO NEW 'Survo data file'</CODE> deletes the existing Survo data file.
<TR>
<TD ALIGN="left"><CODE>DELIMITER</CODE> 
<TD ALIGN="left"><CODE>DELIMITER=char(number)</CODE> separates the columns of the text file. Default:
one or more blank (space) characters. Possible values are denoted by
char(i), i=1,...,255. Keyword TAB may be used instead of char(9).
<TR>
<TD ALIGN="left"><CODE>FIRST</CODE> 
<TD ALIGN="left"><CODE>FIRST=first line</CODE>. The first line to be copied from the text file.
Default: 1.
<TR>
<TD ALIGN="left"><CODE>LAST</CODE> 
<TD ALIGN="left"><CODE>LAST=last line</CODE>. The last line to be copied from the text file.
Default: last line of the text file.
<TR>
<TD ALIGN="left"><CODE>MAXFIELDS</CODE> 
<TD ALIGN="left"><CODE>MAXFIELDS=# of fields</CODE> defines maximum number of fields in the text file.
Default: 300.
<TR>
<TD ALIGN="left"><CODE>MISSING</CODE> 
<TD ALIGN="left"><CODE>MISSING=string</CODE> treats string as a missing value. Default: spaces and/or '-'.
<TR>
<TD ALIGN="left"><CODE>ENCODING</CODE> 
<TD ALIGN="left"><CODE>ENCODING=encoding of the text file</CODE> spesifies, how to encode the text
file. This spesification is used only if the system doesn't regognize
encoding. <CODE>ENCODING=UTF-8</CODE> encodes UTF-8 text files. Default: DEFAULT.
<TR>
<TD ALIGN="left">&gt; <CODE>R</CODE> 
<TD ALIGN="left">&gt; <CODE>R'R data frame'</CODE> transforms R data frame to Survo data. Use without '-characters.
<TR>
<TD ALIGN="left"><CODE>SKIP</CODE> 
<TD ALIGN="left"><CODE>SKIP=list_of_characters</CODE> skips unwanted charcters.
<TR>
<TD ALIGN="left"><CODE>MATCH</CODE> 
<TD ALIGN="left">

<TR>
<TD ALIGN="left"><CODE>SKIP_ERRORS</CODE> 
<TD ALIGN="left">Does not interrupt saving the text file when the line has too few
fields. <CODE>SKIP_ERRORS=1</CODE> deletes incomplete lines. <CODE>SKIP_ERRORS=2</CODE> creates a
data record from an incomplete line and assumes that missing fields are
at the end of the text line.
<TR>
<TD ALIGN="left"><CODE>CHECK_VAR_NAMES</CODE> 
<TD ALIGN="left"><CODE>CHECK_VAR_NAMES=0</CODE> treats variable names as is instead of altering the 8th character
if duplicate variable names are encountered.
<TR>
<TD ALIGN="left"><CODE>REMOVE_QUOTES</CODE> 
<TD ALIGN="left"><CODE>REMOVE_QUOTES=1</CODE> converts double quotes within text to ''.
<TR>
<TD ALIGN="left"><CODE>FORMAT</CODE> 
<TD ALIGN="left"><CODE>FORMAT=0</CODE> avoids collison with wrong format-lists like NOFORMAT=1.
<TR>
<TD ALIGN="left"><CODE>NOFORMAT</CODE> 
<TD ALIGN="left"><CODE>NOFORMAT=1</CODE> avoids collison with wrong format-lists like FORMAT=0.
<TR>
<TD ALIGN="left"><CODE>FILTER</CODE> 
<TD ALIGN="left"><CODE>FILTER=conversion file</CODE> converses a text file to a Survo data file with
specific conversion rules. For making code conversion files check
<A HREF="#">code conversion</A>.<CODE>FILTER=#DOTCOMMA</CODE> <CODE>FILTER=#COMMADOT</CODE> replaces
dots with commas and vice versa. <CODE>FILTER=#SEMICOMMA</CODE> replaces semicommas
with commas.
<TR>
<TD ALIGN="left"><CODE>NOFIELDS</CODE> 
<TD ALIGN="left"><CODE>NOFIELDS</CODE> avoids collision with wrong field-lists.
<TR>
<TD ALIGN="left"><CODE>NEWSPACE</CODE> 
<TD ALIGN="left"><CODE>NEWSPACE=m,n</CODE> creates a Survo data file with space for m records and n
variables. NEWSPACE=0,0 creates a Survo data file with no extra space.
<TR>
<TD ALIGN="left"><CODE>DEC</CODE> 
<TD ALIGN="left"><CODE>DEC=character</CODE> specifies the decimal character used. Default: . (dot).
<TR>
<TD ALIGN="left"><CODE>MODEL</CODE> 
<TD ALIGN="left"><CODE>MODEL=# of a line</CODE> allows to give 'model-line'.???

</TABLE><H3>Details</H3> 
<P>where K is the number of fields in one logical record in the text file,
copies a part of a text file to a Survo data file.
If the Survo data file does not exist, a new file will be created.
The fields of the text file are mapped to various Survo data fields
according to the list. Fields which are not copied from the text file
are indicated by a '-' in the list.
If  length or delimiters  is not given, the field is assumed to be ter-
minated by one or several spaces in the text file. However,
the last field in each record must be terminated by a line feed.
Other fields ending with line feed should be indicated by LF in the
list. For example, 10 test3 LF
The  length or delimiters  parameter can also be an integer giving the
fixed length of the corresponding field in the text file or it can
be a sequence of delimiter characters.
For example, 11 test6 5
             12 test7 :/
defines test6 as a field of 5 characters and test7 as a field of
next characters ending by : or / or space. A delimiter can also
be given in the form [decimal_value]. For example,
             13 test8 [50][51]
defines test8 to be terminated by one or several '1's or '2's.
Please, note that
             13 test8 12
would define test8 to be a field of 12 characters.

The default mode (MODE=1), when interpreting the text file, considers
spaces as delimiters also when other symbols are given as delimiters.
Thus fields consisting of several words are not treated correctly.
In such cases a apecification MODE=2 should be given. Then also
empty fields terminating with LF will be accepted.

<H3>See also</H3><CODE>  
<A HREF="file-save.html">FILE SAVE</A> 
<A HREF="#">FILE STATUS</A>,
<A HREF="#">FILE UPDATE</A>,
<A HREF="#">FILE CREATE</A>,
<A HREF="#">FILE LOAD</A>,
<A HREF="#">TXTCONV</A>,
<A HREF="#">TXTRIM</A>,
<A HREF="#">FILE SAVE MAT</A></CODE>  

<H3>Examples</H3> 
<PRE><CODE>FILE SAVE data1.txt TO data / DELIMITER=TAB
..........
</CODE></PRE>
<P>
<PRE><CODE>FILE SAVE data1.txt TO data / NAMES=1 FIRST=2 LAST=10
..........
</CODE></PRE>
<P>
<PRE><CODE>FILE SAVE data1.txt TO data / SKIP=";|
..........
</CODE></PRE>
<P>
<PRE><CODE>FILE SAVE data1.txt TO data / DELIMITER=TAB NAMES=1 FIRST=2
</CODE></PRE>
</DIV>

</BODY>
</HTML>

